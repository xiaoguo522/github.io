<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>消息平台管理页面 | 盛博汇互联网医院</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/egg.png">
    <meta name="description" content="盛博汇互联网医院文档">
    
    <link rel="preload" href="/assets/css/0.styles.b1cc810a.css" as="style"><link rel="preload" href="/assets/js/app.6c555663.js" as="script"><link rel="preload" href="/assets/js/2.f1a6fbee.js" as="script"><link rel="preload" href="/assets/js/15.c65eda57.js" as="script"><link rel="prefetch" href="/assets/js/10.a93b95b4.js"><link rel="prefetch" href="/assets/js/11.79ea7245.js"><link rel="prefetch" href="/assets/js/12.c1fe3f3a.js"><link rel="prefetch" href="/assets/js/13.4df8ca60.js"><link rel="prefetch" href="/assets/js/14.532e802c.js"><link rel="prefetch" href="/assets/js/16.125cf645.js"><link rel="prefetch" href="/assets/js/3.96068cee.js"><link rel="prefetch" href="/assets/js/4.b755375d.js"><link rel="prefetch" href="/assets/js/5.244d74cf.js"><link rel="prefetch" href="/assets/js/6.c23c9ed1.js"><link rel="prefetch" href="/assets/js/7.b955859d.js"><link rel="prefetch" href="/assets/js/8.92a6c823.js"><link rel="prefetch" href="/assets/js/9.37a5ab39.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b1cc810a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/egg.png" alt="盛博汇互联网医院" class="logo"> <span class="site-name can-hide">盛博汇互联网医院</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/pages/base/intro.html" class="nav-link">
  基线项目介绍
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/pages/base/intro.html" class="nav-link">
  基线项目介绍
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>消息平台文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/folder2/test4.html" aria-current="page" class="active sidebar-link">消息平台管理页面</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_1-说明" class="sidebar-link">1 说明</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_2-应用管理" class="sidebar-link">2 应用管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_2-1-android-app" class="sidebar-link">2.1 Android App</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_2-2-ios-app" class="sidebar-link">2.2 iOS App</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_2-3-微信公众号" class="sidebar-link">2.3 微信公众号</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_2-4-微信小程序" class="sidebar-link">2.4 微信小程序</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_2-5-支付宝小程序" class="sidebar-link">2.5 支付宝小程序</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-业务场景" class="sidebar-link">3 业务场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-1-新增业务场景" class="sidebar-link">3.1 新增业务场景</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-2-编辑业务场景" class="sidebar-link">3.2 编辑业务场景</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-3-删除业务场景" class="sidebar-link">3.3 删除业务场景</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-4-新增消息定义" class="sidebar-link">3.4 新增消息定义</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-5-编辑消息定义" class="sidebar-link">3.5 编辑消息定义</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-6-启用-禁用消息定义" class="sidebar-link">3.6 启用/禁用消息定义</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-7-新增应用内消息" class="sidebar-link">3.7 新增应用内消息</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-8-编辑应用内消息" class="sidebar-link">3.8 编辑应用内消息</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-9-启用-禁用应用内消息" class="sidebar-link">3.9 启用/禁用应用内消息</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_3-10-测试" class="sidebar-link">3.10 测试</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_4-数据统计" class="sidebar-link">4 数据统计</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_5-记录查询" class="sidebar-link">5 记录查询</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_6-接收者管理" class="sidebar-link">6 接收者管理</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_7-消息模板" class="sidebar-link">7 消息模板</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_7-1-微信模板消息" class="sidebar-link">7.1 微信模板消息</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_7-2-微信订阅消息" class="sidebar-link">7.2 微信订阅消息</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_7-3-支付宝订阅消息" class="sidebar-link">7.3 支付宝订阅消息</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_8-配置导出-导入" class="sidebar-link">8 配置导出/导入</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_8-1-导出" class="sidebar-link">8.1 导出</a></li><li class="sidebar-sub-header"><a href="/pages/folder2/test4.html#_8-2-导入" class="sidebar-link">8.2 导入</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="消息平台管理页面"><a href="#消息平台管理页面" class="header-anchor">#</a> 消息平台管理页面</h1> <h2 id="_1-说明"><a href="#_1-说明" class="header-anchor">#</a> 1 说明</h2> <p>现有的消息平台管理页面没有针对实施与测试人员进行设计，太过于技术化，存在较高的使用门槛，亟须改进。</p> <p>本文档只用于展示管理页面，不对技术细节进行说明。</p> <h2 id="_2-应用管理"><a href="#_2-应用管理" class="header-anchor">#</a> 2 应用管理</h2> <p>应用管理模板将项目中涉及到消息发送的应用，及消息发送所需要的配置信息进行统一维护。为每一类型的应用提供定制的配置管理页面，降低使用难度。</p> <blockquote><p>目前，消息平台支持以下应用类型：</p></blockquote> <ul><li>Android App</li> <li>iOS App</li> <li>微信公众号</li> <li>微信小程序</li> <li>支付宝小程序</li></ul> <blockquote><p>除以上类型外，消息平台还提供了两种虚拟应用类型：</p></blockquote> <ul><li>跨平台应用：将不同类型的应用归为一类，便于进行数据统计与分析，如将医生端Android App，iOS App归为一类，或将患者端微信小程序，支付宝小程序归为一类。</li> <li>USER_SOURCE_ID：该类型应用互联网AppId为&quot;USER_SOURCE_ID&quot;, 该值为常量，表示消息平台需要从业务数据中取出名为“userSourceId”的属性，作为真实的互联网AppId。</li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li>新增应用时必须填写互联网AppId和应用名，并指定应用类型。</li> <li>更新应用时，<font color="red">不允许更新互联网AppId和应用类型</font>。</li></ul></div> <h3 id="_2-1-android-app"><a href="#_2-1-android-app" class="header-anchor">#</a> 2.1 Android App</h3> <img src="/app.png" alt="img"> <h3 id="_2-2-ios-app"><a href="#_2-2-ios-app" class="header-anchor">#</a> 2.2 iOS App</h3> <img src="/app.png" alt="img"> <h3 id="_2-3-微信公众号"><a href="#_2-3-微信公众号" class="header-anchor">#</a> 2.3 微信公众号</h3> <img src="/app.png" alt="img"> <h3 id="_2-4-微信小程序"><a href="#_2-4-微信小程序" class="header-anchor">#</a> 2.4 微信小程序</h3> <img src="/app.png" alt="img"> <h3 id="_2-5-支付宝小程序"><a href="#_2-5-支付宝小程序" class="header-anchor">#</a> 2.5 支付宝小程序</h3> <img src="/app.png" alt="img"> <h2 id="_3-业务场景"><a href="#_3-业务场景" class="header-anchor">#</a> 3 业务场景</h2> <img src="/app.png" alt="img"> <h3 id="_3-1-新增业务场景"><a href="#_3-1-新增业务场景" class="header-anchor">#</a> 3.1 新增业务场景</h3> <p>点击业务类型标题，进入业务类型编辑页面。
<img src="/app.png" alt="img"></p> <h3 id="_3-2-编辑业务场景"><a href="#_3-2-编辑业务场景" class="header-anchor">#</a> 3.2 编辑业务场景</h3> <p>参考新增业务场景页面。</p> <h3 id="_3-3-删除业务场景"><a href="#_3-3-删除业务场景" class="header-anchor">#</a> 3.3 删除业务场景</h3> <p>业务场景删除，对应的消息定义与应用内消息定义均同步删除。</p> <h3 id="_3-4-新增消息定义"><a href="#_3-4-新增消息定义" class="header-anchor">#</a> 3.4 新增消息定义</h3> <p>点击“新增消息定义” &gt; 选择消息类型  &gt;   进入消息定义新增页面。</p> <blockquote><p>当前消息平台支持以下类型消息：</p></blockquote> <ul><li>Android小米推送，消息类型编码：<font color="red">ANDROID_XIAOMI_PUSH</font>。向小米品牌的Android客户端推送消息时，需要使用该消息类型。</li> <li>iOS小米推送，消息类型编码：<font color="red">IOS_XIAOMI_PUSH</font>。向苹果iPhone或iPad等设备推送消息时，需要使用该消息类型。</li> <li>华为推送，消息类型编码：<font color="red">HUAWEI_PUSH</font>。向华为品牌设备推送消息时，需要使用该消息类型。</li> <li>微信公众号模板消息，消息类型编码：<font color="red">WECHAT</font>。该类型消息只需指定用户id，而不用指定公众号应用id。</li> <li>微信小程序模板消息，消息类型编码：<font color="red">WX_MINI</font> 。该类型消息需要指定公众号应用id，且该公众号需要与小程序关联。最终消息会发送到指定公众号首页。</li> <li>微信小程序订阅消息，消息类型编码：<font color="red">WX_SUBSCRIBE</font>。该类型消息会发送至微信首页。</li> <li>支付宝小程序订阅消息，消息类型编码：<font color="red">ZFB_SUBSCRIBE</font>。该类型消息会发送至支付宝首页，某些消息会通过支付宝App推送发送至用户手机状态栏。</li> <li>WebSocket消息，消息类型编码：<font color="red">WEB_SOCKET</font>。该类型消息主要服务于公众号，PC网页或移动H5应用。</li> <li>业务定制消息，消息类型编码：<font color="red">CUSTOM_XXX</font>。编码以&quot;CUSTOM_&quot;开始，长度在10~32之间。 当需要发送定制消息时可以使用该消息类型。</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>除业务定制消息外，其它类型均为系统内置，不允许修改</p></div> <h4 id="_3-4-1-android小米推送"><a href="#_3-4-1-android小米推送" class="header-anchor">#</a> 3.4.1 Android小米推送</h4> <img src="/app.png" alt="img"> <p>点击属性编辑图标，进行属性编辑页面。如编辑通知栏内容</p> <img src="/app.png" alt="img"> <h4 id="_3-4-2-ios小米推送"><a href="#_3-4-2-ios小米推送" class="header-anchor">#</a> 3.4.2 iOS小米推送</h4> <p>因苹果公司对iOS设备具有极强的控制能力，iOS平台的推送只需要接入任一家厂商即可。
<img src="/app.png" alt="img"></p> <p>在消息平台中，iOS小米推送作为iOS平台惟一的推送通道。</p> <h4 id="_3-4-3-华为推送"><a href="#_3-4-3-华为推送" class="header-anchor">#</a> 3.4.3 华为推送</h4> <img src="/app.png" alt="img"> <h4 id="_3-4-4-微信公众号模板消息"><a href="#_3-4-4-微信公众号模板消息" class="header-anchor">#</a> 3.4.4 微信公众号模板消息</h4> <img src="/app.png" alt="img"> <div class="custom-block tip"><p class="custom-block-title">注意</p> <p>公众号消息跳转小程序，需要将公众号与小程序进行绑定。</p></div> <h4 id="_3-4-5-微信小程序模板消息"><a href="#_3-4-5-微信小程序模板消息" class="header-anchor">#</a> 3.4.5 微信小程序模板消息</h4> <p>同 微信公众号模板消息</p> <h4 id="_3-4-6-微信小程序订阅消息"><a href="#_3-4-6-微信小程序订阅消息" class="header-anchor">#</a> 3.4.6 微信小程序订阅消息</h4> <img src="/app.png" alt="img"> <h4 id="_3-4-7-支付宝小程序订阅消息"><a href="#_3-4-7-支付宝小程序订阅消息" class="header-anchor">#</a> 3.4.7 支付宝小程序订阅消息</h4> <p>同微信小程序订阅消息</p> <h4 id="_3-4-8-websocket消息"><a href="#_3-4-8-websocket消息" class="header-anchor">#</a> 3.4.8 WebSocket消息</h4> <img src="/app.png" alt="img"> <h4 id="_3-4-9-业务定制消息"><a href="#_3-4-9-业务定制消息" class="header-anchor">#</a> 3.4.9 业务定制消息</h4> <p>业务定制消息没有固定的内容格式，需要由业务系统根据实际需求提供。</p> <p>消息平台在完成数据处理，消息解释，路由等工作后，将调用指定的业务系统完成消息发送。
<img src="/app.png" alt="img"></p> <h3 id="_3-5-编辑消息定义"><a href="#_3-5-编辑消息定义" class="header-anchor">#</a> 3.5 编辑消息定义</h3> <p>点击某类型消息定义，进入消息定义编辑页面。</p> <p>消息定义页面与编辑页面大致相同，不再展开说明。</p> <h3 id="_3-6-启用-禁用消息定义"><a href="#_3-6-启用-禁用消息定义" class="header-anchor">#</a> 3.6 启用/禁用消息定义</h3> <p>消息定义为启动状态，当业务信息提交时，会触发该定类型消息发送发送。反之则不会触发该类型消息发送。</p> <h3 id="_3-7-新增应用内消息"><a href="#_3-7-新增应用内消息" class="header-anchor">#</a> 3.7 新增应用内消息</h3> <p>在应用的消息中心查询到的消息称为应用内消息。应用内消息外观及数据格式由管理员通过消息平台录入。</p> <img src="/app.png" alt="img"> <div class="custom-block tip"><p class="custom-block-title">注意</p> <ul><li>配置完成并启用后，才能在消息中心查看对应的应用内消息。且在此之前的消息无查询到。</li> <li>这里需要注意的是，为了兼容不同平台点击跳转事件，可以根据实际情况配置点击跳转H5页面，小程序页面（支付宝或微信小程序），及App原生页面及参数。</li></ul></div> <h3 id="_3-8-编辑应用内消息"><a href="#_3-8-编辑应用内消息" class="header-anchor">#</a> 3.8 编辑应用内消息</h3> <p>与新增应用内消息页面大致相同，不再展开说明。</p> <h3 id="_3-9-启用-禁用应用内消息"><a href="#_3-9-启用-禁用应用内消息" class="header-anchor">#</a> 3.9 启用/禁用应用内消息</h3> <p>应用内消息禁用后，新产生的业务信息将无法在消息中心查看。之前已经存在的消息不受影响。</p> <h3 id="_3-10-测试"><a href="#_3-10-测试" class="header-anchor">#</a> 3.10 测试</h3> <img src="/app.png" alt="img"> <h2 id="_4-数据统计"><a href="#_4-数据统计" class="header-anchor">#</a> 4 数据统计</h2> <img src="/app.png" alt="img"> <h2 id="_5-记录查询"><a href="#_5-记录查询" class="header-anchor">#</a> 5 记录查询</h2> <img src="/app.png" alt="img"> <p>点击“查看详情”，可进入提交详情页面
<img src="/app.png" alt="img"></p> <h2 id="_6-接收者管理"><a href="#_6-接收者管理" class="header-anchor">#</a> 6 接收者管理</h2> <img src="/app.png" alt="img"> <h2 id="_7-消息模板"><a href="#_7-消息模板" class="header-anchor">#</a> 7 消息模板</h2> <img src="/app.png" alt="img"> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>模板管理提供了模板便捷录入，更新和实时预览功能。</li> <li>同一个模板被不同的应用引用后，会生成不同的模板id，所以在模板维护完成后，需要在应用管理中进行关联（模板编码与模板id关联）。</li> <li>最终模板消息（公众号模板消息，微信小程序订阅消息，支付宝小程序订阅消息）都需要使用模板id来进行发送。</li></ul></div> <h3 id="_7-1-微信模板消息"><a href="#_7-1-微信模板消息" class="header-anchor">#</a> 7.1 微信模板消息</h3> <img src="/app.png" alt="img"> <h3 id="_7-2-微信订阅消息"><a href="#_7-2-微信订阅消息" class="header-anchor">#</a> 7.2 微信订阅消息</h3> <img src="/app.png" alt="img"> <h3 id="_7-3-支付宝订阅消息"><a href="#_7-3-支付宝订阅消息" class="header-anchor">#</a> 7.3 支付宝订阅消息</h3> <img src="/app.png" alt="img"> <h2 id="_8-配置导出-导入"><a href="#_8-配置导出-导入" class="header-anchor">#</a> 8 配置导出/导入</h2> <h3 id="_8-1-导出"><a href="#_8-1-导出" class="header-anchor">#</a> 8.1 导出</h3> <img src="/app.png" alt="img"> <h3 id="_8-2-导入"><a href="#_8-2-导入" class="header-anchor">#</a> 8.2 导入</h3> <img src="/app.png" alt="img"></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">8/1/2022, 10:34:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6c555663.js" defer></script><script src="/assets/js/2.f1a6fbee.js" defer></script><script src="/assets/js/15.c65eda57.js" defer></script>
  </body>
</html>
